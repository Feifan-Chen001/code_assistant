% !TeX program = xelatex
% !TeX encoding = UTF-8
\documentclass[11pt,a4paper]{article}
\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\usepackage{xurl}
\usepackage{longtable}
\usepackage{booktabs}
\newcolumntype{T}[1]{>{\ttfamily\raggedright\arraybackslash}p{#1}}
\newcommand{\codepath}[1]{\path{#1}}

% ===== 中文与字体（支持UTF-8和中文路径） =====
\usepackage{xeCJK}
\setCJKmainfont{SimSun}
\setmonofont{Consolas}
\setCJKmonofont{SimSun}
\usepackage{fontspec}

% ===== 页面与排版 =====
\usepackage[a4paper,margin=2.2cm]{geometry}
\usepackage{setspace}
\setstretch{1.12}
\usepackage{microtype}

% ===== 数学/符号 =====
\usepackage{amsmath,amssymb}

% ===== 链接 =====
\usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue,citecolor=blue]{hyperref}

% ===== 表格 =====
\usepackage{tabularx}
\usepackage{multirow}
\newcolumntype{Y}{>{\raggedright\arraybackslash}X}
\newcolumntype{C}{>{\centering\arraybackslash}X}

% ===== 代码块 =====
\usepackage{xcolor}
\usepackage{listings}
\lstset{
  basicstyle=\ttfamily\small,
  columns=fullflexible,
  breaklines=true,
  breakatwhitespace=true,
  showstringspaces=false,
  frame=single,
  framerule=0.3pt,
  rulecolor=\color{black!25},
  xleftmargin=1.2em,
  xrightmargin=0.6em,
  aboveskip=0.8em,
  belowskip=0.8em
}

% ===== 标题格式 =====
\usepackage{titlesec}
\titleformat{\section}{\Large\bfseries}{\thesection}{0.6em}{}
\titleformat{\subsection}{\large\bfseries}{\thesubsection}{0.6em}{}
\titleformat{\subsubsection}{\normalsize\bfseries}{\thesubsubsection}{0.6em}{}

\begin{document}

\begin{center}
{\LARGE \textbf{CodeAssistant 报告}}\\[4pt]
{\normalsize （由自动审查与测试生成系统输出）}
\end{center}

\vspace{0.5em}
\tableofcontents
\vspace{0.8em}
\hrule
\vspace{1.2em}

\section{代码审查（Review）}

\subsection{概览}
\begin{itemize}
  \item 问题总数：0
  \item 高/中/低：0 / 0 / 0
  \item 工具数：0
  \item DS 规则命中总数：0
\end{itemize}

\subsection{复杂度摘要}
\begin{itemize}
  \item 来源：Radon Cyclomatic Complexity（CC）
  \item 说明：等级通常为 A（简单）到 F（复杂），括号内为复杂度分数
\end{itemize}

\small
\setlength{\emergencystretch}{2em}
\begin{longtable}{T{6.6cm} L{1.1cm} T{5.2cm} L{0.9cm} r}
\toprule
文件 & 类型 & 符号（函数/方法） & 等级 & 分数 \\
\midrule
\endfirsthead
\toprule
文件 & 类型 & 符号（函数/方法） & 等级 & 分数 \\
\midrule
\endhead
\midrule
\multicolumn{5}{r}{（续下页）}\\
\endfoot
\bottomrule
\endlastfoot
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_03\_Grouping\_Occupation\_Exercises\_with\_solutions\_8a840057.py} & F & test\_gender\_to\_numeric\_\_basic\_smoke & A & 3 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_03\_Grouping\_Occupation\_Exercises\_with\_solutions\_8a840057.py} & F & test\_gender\_to\_numeric\_\_edge\_cases & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_03\_Grouping\_Occupation\_Exercises\_with\_solutions\_8a840057.py} & F & test\_gender\_to\_numeric\_\_property\_based & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & test\_majority\_\_basic\_smoke & A & 3 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & test\_times10\_\_basic\_smoke & A & 3 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & test\_majority\_\_edge\_cases & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & test\_majority\_\_property\_based & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & test\_times10\_\_edge\_cases & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & test\_times10\_\_property\_based & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_06\_Stats\_Wind\_Stats\_Exercises\_with\_solutions\_52bd6270.py} & F & test\_fix\_century\_\_basic\_smoke & A & 3 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_06\_Stats\_Wind\_Stats\_Exercises\_with\_solutions\_52bd6270.py} & F & test\_fix\_century\_\_edge\_cases & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/test\_06\_Stats\_Wind\_Stats\_Exercises\_with\_solutions\_52bd6270.py} & F & test\_fix\_century\_\_property\_based & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/\_notebooks/nb\_03\_Grouping\_Occupation\_Exercises\_with\_solutions\_8a840057.py} & F & gender\_to\_numeric & A & 3 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/\_notebooks/nb\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & majority & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/\_notebooks/nb\_04\_Apply\_Students\_Alcohol\_Consumption\_Exercises\_with\_solutions\_4a90df1f.py} & F & times10 & A & 2 \\
\codepath{D:/code\_assistant/my\_repo/generated\_tests/\_notebooks/nb\_06\_Stats\_Wind\_Stats\_Exercises\_with\_solutions\_52bd6270.py} & F & fix\_century & A & 2 \\
\end{longtable}
\normalsize

\section{测试生成（TestGen）}

\subsection{指标}
\begin{itemize}
  \item 写入测试文件数：3
  \item 覆盖函数数：4
  \item 输出目录：\codepath{D:/code\_assistant/my\_repo/reports/my\_repo/generated\_tests}
\end{itemize}

\subsection{覆盖率报告}
\small
\setlength{\emergencystretch}{2em}
\begin{longtable}{T{7.2cm} r r r T{5.2cm}}
\toprule
Name & Stmts & Miss & Cover & Missing \\
\midrule
\endfirsthead
\toprule
Name & Stmts & Miss & Cover & Missing \\
\midrule
\endhead
\midrule
\multicolumn{5}{r}{（续下页）}\\
\endfoot
\bottomrule
\endlastfoot
\codepath{N/A} & 0 & 0 & 0\% &  \\
\end{longtable}
\normalsize

\end{document}